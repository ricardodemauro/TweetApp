{"version":3,"sources":["components/header.js","components/footer.js","pages/HomePage.js","components/tweet.js","constants.js","pages/TweetPage.js","pages/AuthPage.js","pages/ProfilePage.js","pages/LogoutPage.js","App.js","serviceWorker.js","index.js"],"names":["Header","className","to","exact","Footer","target","rel","href","HomePage","useOktaAuth","authState","authService","useState","userInfo","setUserInfo","useEffect","a","updateUserInfo","isAuthenticated","getUser","info","login","console","log","role","name","Button","onClick","Image","xmlns","viewBox","width","height","cx","cy","r","stroke","strokeWidth","fill","x","y","substring","toUpperCase","Name","props","Tweet","tweet","TweetBody","image","handle","Fragment","CreateTweet","onFormSubmit","setTweet","onSubmit","e","preventDefault","bind","type","value","onChange","aria-describedby","placeholder","ISSUER","HOST","window","location","host","REDIRECT_URI_HTTP","REDIRECT_URI_HTTPS","config","issuer","clientId","redirectUri","indexOf","protocol","scope","split","api","TweetPage","users","setUsers","getTweets","fetch","method","headers","accessToken","res","json","data","mappedUsers","map","item","i","user","message","tweetForm","body","JSON","stringify","ok","warn","statusText","this","Array","isArray","index","key","AuthPage","isPending","ProfilePage","then","style","origin","Logout","withRouter","history","logout","push","idToken","App","path","component","LoginCallback","LogoutPage","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.9f810588.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"masthead mb-auto\">\r\n            <div className=\"inner\">\r\n                <h3 className=\"masthead-brand\">Cover</h3>\r\n                <nav className=\"nav nav-masthead justify-content-center\">\r\n                    <NavLink className=\"nav-link\" to=\"/\" exact>Home</NavLink>\r\n                    <NavLink className=\"nav-link\" to=\"/app\">App</NavLink>\r\n                    <NavLink className=\"nav-link\" to=\"/about\">About</NavLink>\r\n                    <NavLink className=\"nav-link\" to=\"/profile\">Profile</NavLink>\r\n                    <NavLink className=\"nav-link\" to=\"/logout\">LogOut</NavLink>\r\n                </nav>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"mastfoot mt-auto\">\r\n            <div className=\"inner\">\r\n                <p>POC made over twitch streams on <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://rmauro.dev/twitch\">RMauro's Twitch</a>. Source code on <a href=\"https://github.com/ricardodemauro/TweetApp\">Github</a>.</p>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React, { useState, useEffect } from 'react';\r\nimport { useOktaAuth } from '@okta/okta-react';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst HomePage = () => {\r\n    const { authState, authService } = useOktaAuth();\r\n\r\n    const [userInfo, setUserInfo] = useState(null);\r\n\r\n    useEffect(() => {\r\n        (async () => await updateUserInfo())();\r\n    }, [authState, authService]); \r\n\r\n    const updateUserInfo = async () => {\r\n        if (!authState.isAuthenticated) {\r\n            // When user isn't authenticated, forget any user info\r\n            setUserInfo(null);\r\n        } else {\r\n            const info = await authService.getUser();\r\n            setUserInfo(info);\r\n        }\r\n    }\r\n\r\n    const login = async () => {\r\n        if (authState.isAuthenticated)\r\n            console.log('you`re already logged in');\r\n\r\n        else {\r\n            await authService.login('/');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main role=\"main\" className=\"inner cover\">\r\n            <div className=\"lead\">\r\n                {userInfo &&\r\n                    <p>Welcome back, {userInfo.name}!</p>\r\n                }\r\n                {!userInfo &&\r\n                    <Button onClick={login} className=\"btn btn-lg btn-secondary\">Login with OKTA</Button>\r\n                }\r\n            </div>\r\n        </main >\r\n    )\r\n}\r\n\r\nexport default HomePage;","import React, { useState } from 'react';\r\n\r\nconst Image = ({ name }) => {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\" width=\"36\" height=\"36\">\r\n            <circle cx=\"25\" cy=\"25\" r=\"20\" stroke=\"black\" strokeWidth=\"1\" fill=\"#343a40\" />\r\n            <text x=\"13.5\" y=\"30\" className=\"textSvg\" fill=\"white\">{name ? name.substring(0, 2).toUpperCase() : '??'}</text>\r\n        </svg>\r\n    )\r\n}\r\n\r\nconst Name = (props) => {\r\n    return (<span >{`@${props.name}`}</span>)\r\n}\r\n\r\nconst Tweet = (props) => {\r\n    return (\r\n        <span className=\"text-dark\">{props.tweet}</span>\r\n    )\r\n}\r\n\r\nconst TweetBody = ({ image, name, handle, tweet }) => {\r\n    return (\r\n        <React.Fragment>\r\n            <Image name={name} image={image} />\r\n            <div className=\"media-body px-2 text-justify\">\r\n                <h6 className=\"mt-0 d-block text-dark\"><Name name={name} /></h6>\r\n                <Tweet tweet={tweet} />\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nconst CreateTweet = ({ onFormSubmit }) => {\r\n    const [tweet, setTweet] = useState('');\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        console.log(tweet);\r\n\r\n        if (onFormSubmit)\r\n            onFormSubmit({ tweet });\r\n\r\n        setTweet('');\r\n    }\r\n\r\n    return (\r\n        <div className=\"text-white-50 rounded shadow-sm my-3\">\r\n            <div className=\"row p-3\">\r\n                <form className=\"w-100 col-12\" onSubmit={handleSubmit.bind(this)}>\r\n                    <p className=\"h4 mb-4\">Submit your tweet</p>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" className=\"form-control\" value={tweet} onChange={(e) => setTweet(e.target.value)} aria-describedby=\"tweet\" placeholder=\"your tweet\" />\r\n                    </div>\r\n                    <div className=\"row lh-100\">\r\n                        <div className=\"col-12\">\r\n                            <button type=\"submit\" className=\"btn btn-primary float-right\">Submit</button>\r\n                            <h6 className=\"mb-0 text-white lh-100\">Bootstrap</h6>\r\n                            <small>Since 2011</small>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport { TweetBody, CreateTweet }","export const CALLBACK_PATH = '/implicit/callback';\r\nexport const OKTA_DOMAIN = 'dev-669728.okta.com';\r\nexport const CLIENT_ID = '0oa4gpq1oyOsCygrt357';\r\n\r\nexport const ISSUER = `https://${OKTA_DOMAIN}/oauth2/default`;\r\nexport const HOST = window.location.host;\r\nexport const SCOPES = 'openid profile email';\r\n\r\nconst REDIRECT_URI_HTTP = `http://${HOST}${CALLBACK_PATH}`;\r\nconst REDIRECT_URI_HTTPS = `https://${HOST}${CALLBACK_PATH}`;\r\n\r\nconst localApi = 'http://localhost:7071/api/Tweet/';\r\nconst azApi = 'https://tweetappapi0033.azurewebsites.net/api/tweet/';\r\n\r\nconst redirectUri = () => {\r\n  if(window.location.href.indexOf('github.io') > -1) {\r\n    return `https://ricardodemauro.github.io/TweetApp${CALLBACK_PATH}`;\r\n  }\r\n  else if(window.location.protocol('https') > -1) {\r\n    return REDIRECT_URI_HTTPS;\r\n  }\r\n  else {\r\n    return REDIRECT_URI_HTTP;\r\n  }\r\n}\r\n\r\nexport const apiUri = () => {\r\n  if (window.location.href.indexOf('localhost') > -1) {\r\n    return localApi;\r\n  }\r\n  return azApi;\r\n}\r\n\r\nconst config = {\r\n  issuer: ISSUER,\r\n  clientId: CLIENT_ID,\r\n  redirectUri: redirectUri(),\r\n  scope: SCOPES.split(/\\s+/),\r\n};\r\n\r\nconsole.log(config)\r\n\r\nexport default config;","import React, { useState, useEffect } from 'react';\r\nimport { useOktaAuth } from '@okta/okta-react';\r\nimport { TweetBody, CreateTweet } from '../components/tweet';\r\nimport { apiUri } from '../constants';\r\n\r\nconst api = () => apiUri();\r\n\r\nfunction TweetPage() {\r\n  const { authState, authService } = useOktaAuth();\r\n  const [users = [], setUsers] = useState(0);\r\n\r\n  useEffect(() => {\r\n    (async () => await getTweets())();\r\n  }, [authState, authService]);\r\n\r\n  async function getTweets() {\r\n    let res = await fetch(api(), {\r\n      method: 'get',\r\n      headers: {\r\n        'Authorization': `Bearer ${authState.accessToken}`,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    });\r\n\r\n    let data = await res.json();\r\n\r\n    var mappedUsers = data.map((item, i) => {\r\n      return { name: item.user, tweet: item.message }\r\n    });\r\n    setUsers(mappedUsers);\r\n  }\r\n\r\n  async function submitTweet(tweetForm) {\r\n    let res = await fetch(api(), {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ message: tweetForm.tweet }),\r\n      headers: { \"Content-Type\": \"application/json\", 'Authorization': `Bearer ${authState.accessToken}` }\r\n    });\r\n\r\n    if (res.ok) {\r\n      await res.json();\r\n      await getTweets();\r\n    }\r\n    console.warn('something bad happened', res.statusText);\r\n  }\r\n\r\n  return (\r\n    <main role=\"main\" className=\"h-auto\">\r\n      <div className=\"App\">\r\n        <div className=\"container my-3 p-3 bg-dark rounded shadow-sm\">\r\n          <h1>Mini Tweet</h1>\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <CreateTweet onFormSubmit={submitTweet.bind(this)} />\r\n            </div>\r\n          </div>\r\n          <h6 className=\"border-bottom border-gray pb-2 mb-0\">Recent updates</h6>\r\n          <ul className=\"list-unstyled\">\r\n            {Array.isArray(users) && [...users].map((item, index) => {\r\n              return <li className=\"media shadow p-1 mb-2 bg-white rounded\" key={index}><TweetBody {...item} /></li>\r\n            })}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default TweetPage;\r\n","import React from \"react\";\r\nimport { useOktaAuth } from '@okta/okta-react';\r\n\r\nconst AuthPage = () => {\r\n    const { authState, authService } = useOktaAuth();\r\n    const login = () => authService.login('/profile');\r\n\r\n    if (authState.isPending) {\r\n        return (\r\n            <div>Loading authentication...</div>\r\n        );\r\n    } else if (!authState.isAuthenticated) {\r\n        return (\r\n            <div>\r\n                <button className=\"btn btn-primary\" onClick={login}>Login</button>\r\n            </div>\r\n        );\r\n    }\r\n    return (<h1 className=\"bg-white\">Something</h1>)\r\n}\r\n\r\nexport default AuthPage;","import { useOktaAuth } from '@okta/okta-react';\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst ProfilePage = () => {\r\n    const { authState, authService } = useOktaAuth();\r\n    const [userInfo, setUserInfo] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (!authState.isAuthenticated) {\r\n            // When user isn't authenticated, forget any user info\r\n            setUserInfo(null);\r\n        } else {\r\n            authService.getUser().then((info) => {\r\n                setUserInfo(info);\r\n            });\r\n        }\r\n    }, [authState, authService]); // Update if authState changes\r\n\r\n    return (\r\n        <main role=\"main\" className=\"h-100\">\r\n            <div>\r\n                {userInfo &&\r\n                    <div>\r\n                        <p>Welcome back, {userInfo.name}!</p>\r\n                        <p style={{ \"wordBreak\": \"break-all\" }}>Access Token, {authState.accessToken}</p>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default ProfilePage;","import React, { useEffect } from 'react';\r\nimport { useHistory, withRouter } from \"react-router-dom\";\r\nimport { useOktaAuth } from '@okta/okta-react';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport { ISSUER } from '../constants';\r\n\r\nconst redirectUri = `${window.location.origin}/logout`;\r\n\r\n// Basic component with logout button\r\nconst Logout = withRouter(({ history }) => {\r\n    const { authState, authService } = useOktaAuth();\r\n\r\n    useEffect(() => {\r\n        if (authState.isAuthenticated) {\r\n            (async () => await logout())();\r\n        }\r\n    }, [authState, authService]);\r\n\r\n    if (!authState.isAuthenticated) {\r\n        history.push(\"/\");\r\n    }\r\n\r\n    const logout = async () => {\r\n        // Read idToken before local session is cleared\r\n        const idToken = authState.idToken;\r\n        await authService.logout('/');\r\n\r\n        // Clear remote session\r\n        window.location.href = `${ISSUER}/v1/logout?id_token_hint=${idToken}&post_logout_redirect_uri=${redirectUri}`;\r\n    };\r\n\r\n    return (\r\n        <main role=\"main\" className=\"inner cover\">\r\n            <div className=\"lead\">\r\n                <Button onClick={logout} className=\"btn btn-lg btn-secondary\">Logout</Button>\r\n            </div>\r\n        </main>\r\n    );\r\n});\r\n\r\nexport default Logout;","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport { Security, SecureRoute, LoginCallback } from '@okta/okta-react';\r\n\r\nimport Header from './components/header';\r\nimport Footer from './components/footer';\r\n\r\nimport HomePage from \"./pages/HomePage\";\r\nimport TweetPage from \"./pages/TweetPage\";\r\nimport AuthPage from \"./pages/AuthPage\";\r\nimport ProfilePage from \"./pages/ProfilePage\";\r\nimport LogoutPage from \"./pages/LogoutPage\";\r\n\r\nimport config, { CALLBACK_PATH } from './constants';\r\n\r\nexport default function App() {\r\n  return (\r\n    <div className=\"text-center\" style={{height: \"100%\"}}>\r\n      <div className=\"container d-flex h-100 p-3 mx-auto flex-column\">\r\n        <Router>\r\n          <Header />\r\n\r\n          <Security {...config}>\r\n            <Route path='/' exact={true} component={HomePage} />\r\n\r\n            <SecureRoute path='/app' component={TweetPage} />\r\n            <SecureRoute path='/auth' component={AuthPage} />\r\n            <SecureRoute path='/profile' component={ProfilePage} />\r\n            <Route path={CALLBACK_PATH} component={LoginCallback} />\r\n            <Route path='/logout' component={LogoutPage} />\r\n          </Security>\r\n\r\n          <Footer />\r\n        </Router >\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}